# Work

A work is a ...

## Fetch Single Work

One may use three different types of identifiers to fetch a work; _work id_, _pid_, or _faust_.

<InlineGraphiQL
  query={`query ($faust: String!) {
      work(faust: $faust) {
        workId
      }
    }`}
  variables={{
    faust: "48953786",
  }}
/>

<InlineGraphiQL
  query={`query ($pid: String!) {
      work(pid: $pid) {
        workId
      }
    }`}
  variables={{
    pid: "870970-basis:48953786",
  }}
/>

<InlineGraphiQL
  query={`query ($id: String!) {
      work(id: $id) {
        workId
      }
    }`}
  variables={{
    id: "work-of:870970-basis:48953786",
  }}
/>

## Fetch Multiple Works

It is possible to fetch multiple works in a single request by providing
a list of identifiers. The identifiers may be _a list of work ids_, _a list of pids_,
or _a list of fausts_.

The order of the works will match the order of provided identifiers.
If no work is found for an identifier, null is returned at the corresponding position.

<InlineGraphiQL
  query={`query ($faust: [String!]!) {
      works(faust: $faust) {
        workId
      }
    }`}
  variables={{
    faust: ["48953786", "61965815", "unknown-faust"],
  }}
/>

## Reviews

The reviews field returns a list of reviews. Each review may be one of the following types:

- `InfomediaReview` includes an ID that can be used to look up the actual
  article. Check out the [Infomedia section](#Infomedia). Use the _accessStatus_ field to
  determine if the current user has access to the article.
- `ExternalReview` includes an url to an external website where the review is located.
- `LibrariansReview` is the librarians review. The entire review can be obtained from
  this object type, without the user is logged in. A review consists of a list of sections.
  A section may include a work. If so, the title should be appended to the text
  (preferably as a link).

<InlineGraphiQL
  query={`query ($id: String!) {
  work(id: $id) {
    workId
    titles {
      main
    }
    reviews {
      __typename
      author
      date
      ... on ExternalReview {
        rating
        urls {
          origin
          url
        }
      }
      ... on InfomediaReview {
        id
        rating
        accessStatus
      }
      ... on LibrariansReview {
        sections {
          code
          heading
          text
          work {
            titles {
              main
            }
            creators {
              display
            }
          }
        }
      }
    }
  }
}`}
  variables={{
    id: "work-of:870970-basis:51701763",
  }}
/>

## Series

A work may be part of one or more series. The example below fetches the series title
as well as some information about how the work itself fits inside the series.

⚠️ Note that fake data is returned at this point.

<InlineGraphiQL
  query={`query ($workId: String!) {
  work(id: $workId) {
    series {
    	title
      isPopular
      numberInSeries {
        display
        number
      }
      readThisFirst
      readThisWhenever
    }
  }
}`}
  variables={{
    workId: "work-of:870970-basis:52557240",
  }}
/>

## Series Members

All the members (works) of a series that this work is member of (including itself).

<InlineGraphiQL
  query={`query ($workId: String!) {
  work(id: $workId) {
    seriesMembers {
      titles {
        main
      }
    }
  }
}`}
  variables={{
    workId: "work-of:870970-basis:52557240",
  }}
/>

## Translations

Some metadata may be available in english, specify a language and we will
translate data where possible.

Only fields named _display_, _summary_ etc. may contain translations.

<InlineGraphiQL
  query={`query ($workId: String!, $language: LanguageCode) {
    work(id: $workId, language: $language) {
      mainLanguages {
        display
        isoCode
      }
    }
  }`}
  variables={{
    workId: "work-of:870970-basis:52557240",
    language: "en",
  }}
/>
