# Mood Data

For a smaller collection of mainly Danish Literature we have added mood data to describes the works.
This includes tags to describe the feeling you get from reading the book, or the pace of the narrative or the perspective from which the story is told.
You can search, get suggestions and recommendations based on this mood data collection.

## Search with mood data

The following example do a search based on mood data.

<InlineGraphiQL
  query={`query Example_moodmatch($q: String!, $limit: PaginationLimit!, $offset: Int!, $field: MoodSearchFieldValues!) {
  mood {
  	moodSearch(q: $q, field: $field) {
    works(offset: $offset, limit: $limit) {
      workId
      titles {
        main
      }
    }
  }
  }
}`}
  variables={{
		"q": "uhyggelig",
		"limit": 10,
		"offset": 0,
		"field": "TITLE"
	}}
/>

## Suggestions with mood data

This example get suggestions based on mood data.

<InlineGraphiQL
	query={`query Example_moodSuggest($q: String!) {
	mood {
  moodSuggest(q: $q) {
    response {
      term
      work {
        workId
      }
      type
    }
  }}
}`}
	variables={{
		"q": "spændende"
	}}
/>

## Tags Recommendations mood data

Recommender tags based on mood data. Input are mood data (tags).

<InlineGraphiQL
	query={`query Example_moodTagsRecommend($tags: [String!]!, $minus: [String!], $plus: [String!]) {
	mood {
  moodTagRecommend(tags: $tags, minus: $minus, plus: $plus) {
    work {
      workId
    }
    similarity
  }}
}`}
	variables={{
		"tags": [
			"spændende",
			"uhyggelig",
			"sjov"
		],
		"minus": [
			"spændende"
		],
		"plus": [
			"komisk"
		]
	}}
/>

## Work Recommendations mood data

Recommended works based on mood data. Input are liked works (workIds).

<InlineGraphiQL
	query={`query Example_MoodWorkRecommend($likes: [String!]!, $threshold: Float, $max_author_recommendations: Int) {
	mood {
  moodWorkRecommend(
    likes: $likes
    threshold: $threshold
    max_author_recommendations: $max_author_recommendations
  ) {
    work {
      creators {
        display
      }
      workId
    }
    similarity
  }}
}`}
	variables={{
		"likes": [
			"work-of:870970-basis:38499386",
			"work-of:870970-basis:01362305"
		],
		"threshold": 0.1,
		"max_author_recommendations": 2
	}}
/>

## Work search kids

Search works for kids based on mood data.

<InlineGraphiQL
	query={`query Example_moodmatchkids($q: String!, $limit: PaginationLimit!, $offset: Int!, $field: MoodSearchFieldValues!) {
	mood {
  moodSearchKids(q: $q, field: $field) {
    works(offset: $offset, limit: $limit) {
      workId
      titles {
        main
      }
    }
  }}
}`}
	variables={{
		"q": "uhyggelig",
		"limit": 10,
		"offset": 0,
		"field": "TITLE"
	}}
/>

## Work recommendations for children

Recommended works for children based on mood data.

<InlineGraphiQL
	query={`query Example_moodTagsRecommend($tags: [KidRecommenderTags!], $offset: Int!, $limit: PaginationLimit!) {
  mood {
    moodRecommendKids(tags: $tags) {
      works(offset: $offset, limit: $limit) {
        workId
      }
    }
  }
}`}
	variables={{
		"tags": [
			{
				"tag": "skæve karakterer",
				"weight": 3
			},
			{
				"tag": "fantasy",
				"weight": 4
			}
		],

		"offset": 0,
		"limit": "10"
	}}
/>

