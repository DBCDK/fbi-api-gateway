# Get started :coffee:

Welcome to the documentation page of the FBI API.

The API is powered by GraphQL, learn about that [here](https://graphql.org/learn).

On this page you will be able to get an overview of the API. We have included a
bunch of examples, which you can modify right in the browser.

You need to _configure access_ to see the examples, and you will need an access token to do so.
Read on, and learn how to get one.

## How to get access?

You can get usage rights to FBI-API if you have access to FBI (FÃ¦lles BiblioteksInfastruktur), which is governed by KOMBIT.
Currently only Danish libraries can get access to the API. So, in order to get started, you will need an agreement with a library.

1. First of all, you need to obtain a _CLIENT_ID_ and a _SECRET_ for your application/project

   Send a request via [customer support](https://kundeservice.dbc.dk) and include the following information:

   - Project owner (library, email, phone)
   - Technical contact person (name, email, phone)
   - Name and description of the application/project

2. Obtain an access token

   Get an _anonymous access token_ to access the API on behalf of the application:

   ```
   curl --user "${CLIENT_ID}:${CLIENT_SECRET}" -X POST https://auth.dbc.dk/oauth/token -d "grant_type=password&username=@&password=@"
   ```

   Or get an _authenticated access token_ to access the API on behalf of an end user.

   ```
   curl --user "${CLIENT_ID}:${CLIENT_SECRET}" -X POST https://auth.dbc.dk/oauth/token -d "grant_type=password&username=${USERNAME}&password=${PASSWORD}"
   ```

   `${USERNAME}` is Loanernumber@library-agencyId and `${PASSWORD}` is the end user's pincode.

3. Begin using the API

   Configure access on this site (you will need to fill in an access token in the field where it reads "Drop token here ..."), to see
   examples and build your own queries.

   The examples show how to include the access token as a header when calling the API.

   The api is continously expanding with new functionality.
   At the moment not all metadata delivered from the api is correct. This is due to ongoing changes in the underlying data structure, which will last until early 2023.

## Developer tools

A GraphQL server includes an introspectable schema that expresses the capabilities of the API.
This allows for the creation of tools that improve the developer experience.

This site comes with _GraphiQL_,
a graphical interactive GraphQL IDE, which can be used to write and test queries.
All examples come with a simplified inline version of GraphiQL, which can be used as a starting point.
Press `CTRL+SPACE` to autocomplete inside GraphiQL.

Another tool that we included is _Voyager_, which gives a bird's-eye view of the
GraphQL schema. See how different types are connected and zoom in for more details.

## Deprecation

FBI-API is a versionless API, which enables the continuous addition of new types and fields to the API. However, this also means that data models can change, and fields can be renamed, moved, or removed, resulting in breaking changes.

To handle deprecations, when a field or type is deprecated, it will be clearly flagged in the schema and the documentation examples.

Deprecation details includes:

- Deprecation date
- Expiration date
- Reason
- Alternative options

Furthermore, if an entire section in the documentation, with its own heading or subheading, is deprecated, the section title will be flagged deprecated to alert users.

FBI-API ensures that users are informed of any potential deprecations and can smoothly transition to alternative options.

> <DeprecationTitle>ExampleHeading</DeprecationTitle>

Furthermore a deprecation box including detailed information about the deprecation will be shown.

> <DeprecationBox deprecated="01/01-2099" expires="01/01-2100">
>   Some deprecation example ...
> </DeprecationBox>

History for deprecated fields (caused breaking changes) can be found in the [changelog](#Changelog)

## Changelog

The changelog table contains a comprehensive list of both recent and previous deprecated fields that may cause breaking changes to the API. This information enables users to stay informed about any deprecations that may affect their use of the API and take appropriate action to mitigate any potential issues.

<br />

<DeprecationHistory />

## Feedback

If you have any ideas on how to improve the developer experience, don't hesitate to contact us at [kundeservice@dbc.dk](mailto:kundeservice@dbc.dk).

We encourage you to add any issues/bugs you experience while using the api to the [issues page](https://github.com/DBCDK/fbi-api-gateway/issues).
Please attach the query that caused the bug in the issue.
